<!doctype html>
<!--
  TorqSpec Pro v1.4 - Professional Aviation Torque Calculator
  © Ciphracore Systems LLC - All rights reserved
  
  MAJOR FEATURES:
  • Professional torque conversions for aviation maintenance
  • Range input (20-30) with Low/Mid/High calculations  
  • Setpoint calculation with tool resolution matching
  • Visual gauge display for range specifications
  • Quality indicators (On Target/Check Spec/Review Needed)
  • PWA: Installable, offline-capable, mobile-optimized
  • Bilingual: Complete EN/ES aviation terminology
  • Professional UI: Hamburger menu, dark/light themes
  • Business ready: About section, contact info, partnerships
  • Help system: Complete user manual and usage guide
  
  VERSION HISTORY:
  v1.0: Basic torque converter with essential units
  v1.1: PWA functionality, offline capability, installation
  v1.2: Bilingual support, visual gauges, quality indicators  
  v1.3: Help system, legal disclaimers, professional polish
  v1.4: About section, enhanced help, business development
  
  DEPLOYMENT:
  Live at: https://amttorque.netlify.app/
  Auto-deploys via Netlify
  Single-file app with PWA manifest and service worker
-->
<html lang="en" data-theme="dark">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>TorqSpec Pro • Aviation Torque Calculator</title>
<meta name="description" content="Torque unit conversion calculator with range input, rounding options, visual gauges, and offline capability.">
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#0b0f14">
<style>
  :root{
    --bg:#0b0f14; --bg-alt:#0e141b; --text:#e6edf3; --muted:#9fb1c1; --accent:#4ea1ff;
    --ok:#2ecc71; --warn:#f1c40f; --bad:#e74c3c; --card:#101720; --border:#223041;
    --shadow:0 6px 24px rgba(0,0,0,.35); --focus:2px solid var(--accent);
    --btn:#142233; --btntext:#e6edf3;
  }
  [data-theme="light"]{
    --bg:#f7f9fc; --bg-alt:#ffffff; --text:#1a2430; --muted:#5b6b79; --accent:#0b6bcb;
    --ok:#1c7f43; --warn:#9a7b00; --bad:#a63b2f; --card:#ffffff; --border:#d6e0ea;
    --shadow:0 6px 18px rgba(0,0,0,.08); --btn:#0b6bcb; --btntext:#ffffff;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;
    background:linear-gradient(135deg,var(--bg),var(--bg-alt)); color:var(--text); line-height:1.4;
  }
  /* Phone-centric layout */
  .shell{display:flex; justify-content:center;}
  .wrap{width:100%; max-width:420px; margin:0 auto; padding:12px 12px 24px}
  header{display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:10px}
  .brand{display:flex; flex-direction:column; gap:2px}
  h1{font-size:1.05rem; margin:0; line-height:1.1}
  .badge{font-size:.7rem; padding:2px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted); display:inline-block}
  .toolbar{display:flex; gap:6px; align-items:center}
  .btn, button{background:var(--btn); color:var(--btntext); border:1px solid var(--border); border-radius:10px; padding:8px 10px; cursor:pointer}
  .btn:focus-visible{outline:var(--focus)}
  .iconbtn{display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; padding:0; border-radius:10px}
  .menu{position:relative}
  .menu-panel{
    position:absolute; right:0; top:46px; width:min(90vw,320px);
    background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow);
    padding:10px; display:none; z-index:10
  }
  .menu.open .menu-panel{display:block}
  .menu .row{display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px 0}
  .toggle{display:inline-flex; align-items:center; gap:8px}
  .toggle input{accent-color:var(--accent)}
  .card{background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:12px}
  label{display:block; font-size:.85rem; color:var(--muted); margin-bottom:6px}
  input[type="text"],input[type="number"],select{
    width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border);
    background-color:var(--card); color:var(--text); appearance:none;
  }
  select:focus-visible, input:focus-visible{outline:var(--focus)}
  input::placeholder{color:var(--muted)}
  .rowflex{display:flex; align-items:center; gap:10px; justify-content:space-between; padding:10px 0; border-bottom:1px dashed var(--border); flex-wrap:wrap}
  .rowflex:last-child{border-bottom:0}
  .unit{min-width:110px; font-weight:600}
  .val{font-variant-numeric:tabular-nums}
  .delta{font-size:.85rem; color:var(--muted)}
  .footer{margin-top:16px; font-size:.85rem; color:var(--muted)}
  .pill{display:inline-block; font-size:.72rem; padding:2px 8px; border-radius:999px; border:1px solid var(--border); color:var(--muted)}
  .ok{border-color:var(--ok); color:var(--ok)} .attn{border-color:var(--warn); color:var(--warn)} .risk{border-color:var(--bad); color:var(--bad)}
  /* Gauge */
  .gauge{margin:10px 0 4px; background:linear-gradient(90deg,#556,#667); border:1px solid var(--border); border-radius:10px; height:14px; position:relative; overflow:hidden}
  [data-theme="light"] .gauge{background:linear-gradient(90deg,#e7edf4,#eef2f7)}
  .gmark{position:absolute; top:0; bottom:0; width:2px; background:var(--border)}
  .needle{position:absolute; top:-4px; width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-bottom:8px solid var(--accent); transform:translateX(-50%); transition:left .25s ease}
  .glabel{font-size:.78rem; color:var(--muted); display:flex; justify-content:space-between; margin-top:4px}
  /* Hide options section by default (inside hamburger) */
  .controls{display:grid; gap:10px; grid-template-columns:1fr; margin:8px 0 12px}
  
  /* Disclaimer styles */
  .disclaimer-link {
    color: var(--muted);
    text-decoration: underline;
    cursor: pointer;
    font-size: 11px;
    opacity: 0.7;
    transition: opacity 0.2s;
  }
  .disclaimer-link:hover { opacity: 1; }

  /* Modal styles */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    animation: fadeIn 0.3s;
  }
  .modal-content {
    background-color: var(--card);
    margin: 5% auto;
    padding: 20px;
    border-radius: 12px;
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    animation: slideIn 0.3s;
    border: 1px solid var(--border);
  }
  .close {
    color: var(--muted);
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    line-height: 20px;
  }
  .close:hover { color: var(--text); }

  @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
  @keyframes slideIn { from {transform: translateY(-50px);} to {transform: translateY(0);} }

  .disclaimer-text {
    color: var(--text);
    line-height: 1.6;
    font-size: 14px;
  }
  .disclaimer-text strong { color: var(--bad); }
  
  .about-text {
    color: var(--text);
    line-height: 1.6;
    font-size: 14px;
  }
  .about-text h4 {
    color: var(--text);
    margin: 16px 0 8px 0;
    font-size: 16px;
  }
  .about-text em {
    color: var(--muted);
  }
  
  /* Help accordion */
  .help details{margin:8px 0}
  .help summary{
    list-style:none; cursor:pointer; font-weight:600;
    display:flex; align-items:center; justify-content:space-between;
  }
  .help summary::after{content:"▾"; opacity:.7}
  .help[open] summary::after{content:"▴"}
  .help .help-body{margin-top:8px; color:var(--text)}
  .help .help-section{margin:8px 0}
  .help .help-section h3{margin:6px 0; font-size:.95rem}
  .help .help-section ul{margin:6px 0 0 18px}
  .help .help-section li{margin:6px 0}
</style>
</head>
<body>
<div class="shell">
<div class="wrap">
  <header>
    <div class="brand">
      <h1 data-i18n="title">TorqSpec Pro <span style="opacity:0.4; font-size:0.7em; font-weight:normal;">v1.4</span></h1>
      <div class="pill" id="kpi"></div>
    </div>
    <div class="toolbar">
      <div class="menu" id="menu">
        <button class="iconbtn" id="menuBtn" aria-haspopup="true" aria-expanded="false" aria-controls="menuPanel" title="Menu" aria-label="Menu">
          <!-- Hamburger icon -->
          <svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="2" y="4" width="16" height="2" rx="1" fill="currentColor"/><rect x="2" y="9" width="16" height="2" rx="1" fill="currentColor"/><rect x="2" y="14" width="16" height="2" rx="1" fill="currentColor"/>
          </svg>
        </button>
        <div class="menu-panel" id="menuPanel">
          <div class="row">
            <span data-i18n="oemRounding">Smart Rounding</span>
            <label class="toggle"><input type="checkbox" id="oemRounding"></label>
          </div>
          <div class="row">
            <span data-i18n="theme">Theme</span>
            <button id="themeBtn" class="btn" data-i18n="themeBtn">Light</button>
          </div>
          <div class="row">
            <span data-i18n="language">Language</span>
            <button id="langBtn" class="btn">ES</button>
          </div>
          <div class="row">
            <span>Install</span>
            <button id="installBtn" class="btn" hidden data-i18n="install">Install</button>
          </div>
          <div class="row">
            <span>Help</span>
            <button id="helpBtn" class="btn">Open</button>
          </div>
          <div class="row">
            <span data-i18n="shareApp">Share App</span>
            <button id="shareBtn" class="btn" data-i18n="share">Share</button>
          </div>
          <div class="row">
            <span data-i18n="about">About</span>
            <button id="aboutBtn" class="btn" data-i18n="aboutBtn">Info</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main input lives outside menu for speed -->
  <section class="card controls" aria-label="Inputs">
    <div>
      <label for="valueInput" data-i18n="valueOrRange">Value or Range</label>
      <input id="valueInput" type="text" placeholder="e.g., 12.5  or  10-13" aria-describedby="valueHelp">
      <div id="valueHelp" class="footer" data-i18n="valueHelp">Enter a single value or a range like <b>10-13</b>. Units below.</div>
    </div>
    <div>
      <label for="fromUnit" data-i18n="fromUnit">From Unit</label>
      <select id="fromUnit" aria-label="From unit">
        <option value="Nm">N·m</option>
        <option value="lbf_in">lbf·in</option>
        <option value="lbf_ft">lbf·ft</option>
        <option value="kgf_m">kgf·m</option>
        <option value="oz_in">oz·in</option>
        <option value="dNm">dN·m</option>
        <option value="Ncm">N·cm</option>
      </select>
    </div>
    <div>
      <label for="toolUnit" data-i18n="toolUnit">Tool Unit (Wrench)</label>
      <select id="toolUnit" aria-label="Tool unit">
        <option value="from" data-i18n="sameAsFrom">Same as From</option>
        <option value="Nm">N·m</option>
        <option value="lbf_in">lbf·in</option>
        <option value="lbf_ft">lbf·ft</option>
        <option value="kgf_m">kgf·m</option>
        <option value="oz_in">oz·in</option>
        <option value="dNm">dN·m</option>
        <option value="Ncm">N·cm</option>
      </select>
      <div class="footer" data-i18n="toolUnitHelp">Set to the units on your torque wrench.</div>
    </div>
    <div>
      <label for="resolution" data-i18n="resolution">Tool Resolution</label>
      <input id="resolution" type="number" step="any" min="0" placeholder="e.g., 0.1 for N·m, 1 for lbf·in">
      <div class="footer" data-i18n="resolutionHelp">Graduation size on your wrench (leave blank to skip setpoint rounding).</div>
    </div>
    <div>
      <label for="policy" data-i18n="policy">Rounding Policy</label>
      <select id="policy">
        <option value="nearest" data-i18n="nearest">Nearest</option>
        <option value="up" data-i18n="up">Round Up</option>
        <option value="down" data-i18n="down">Round Down</option>
      </select>
      <div class="footer" data-i18n="policyHelp">QA/SOP may require a specific policy.</div>
    </div>
  </section>

  <section class="card" aria-live="polite" aria-atomic="true">
    <div id="gaugeWrap" hidden>
      <div class="gauge" id="gauge">
        <div class="gmark" id="gLo"></div>
        <div class="gmark" id="gMd"></div>
        <div class="gmark" id="gHi"></div>
        <div class="needle" id="needle" title="Setpoint"></div>
      </div>
      <div class="glabel"><span id="gLoL"></span><span id="gMdL"></span><span id="gHiL"></span></div>
    </div>

    <div class="rowflex">
      <div class="unit" data-i18n="status">Status</div>
      <div class="val" id="statusText" data-i18n="enterToBegin">Enter a value to begin.</div>
    </div>
    <div id="results"></div>
  </section>

  <p class="footer" data-i18n="disclaimer">
    Conversions and setpoints are <b>reference only</b>. Always use approved data (AMM/SRM/CMM/IPC) and calibrated tools. Follow your organization's procedures.
  </p>

  <div class="footer" style="text-align:center; margin-top:12px; padding-top:12px; border-top:1px solid var(--border);">
    <span id="copyright">© Ciphracore Systems LLC — All rights reserved</span><br/>
    <a href="mailto:ciphracore@protonmail.com" style="color:inherit;">ciphracore@protonmail.com</a><br/>
    <span class="disclaimer-link" id="disclaimerLink">**For reference and educational purposes only** - Click for details</span>
  </div>

  <section class="card help" id="help">
    <details>
      <summary><span data-i18n="helpTitle">Help / User Manual</span></summary>
      <div class="help-body">
        <p data-i18n="helpIntro">
          The ☰ menu (top-right) contains all options. This guide explains each control.
        </p>

        <div class="help-section">
          <h3 data-i18n="helpUsageHeader">How to Use TorqSpec Pro</h3>
          <ul>
            <li data-i18n="helpUsageBasic"><b>Basic Conversion</b> — Type "25" in Value field, select From Unit, see instant conversions.</li>
            <li data-i18n="helpUsageRange"><b>Range Specs</b> — Type "20-30" for range specifications. Shows Low/Mid/High values with visual gauge.</li>
            <li data-i18n="helpUsageSetpoint"><b>Setpoints</b> — Set Tool Unit to your wrench and Resolution to its graduations (0.1, 1, etc). Shows exact value to dial in.</li>
            <li data-i18n="helpUsageBadges"><b>Quality Badges</b> — Green=On Target, Yellow=Check Spec, Red=Review Needed.</li>
            <li data-i18n="helpUsageCopy"><b>Copy Results</b> — Use Copy buttons for individual setpoints with full metadata.</li>
          </ul>
        </div>

        <div class="help-section">
          <h3 data-i18n="helpMenuHeader">Menu Controls</h3>
          <ul>
            <li data-i18n="helpItemOEM"><b>OEM Rounding</b> — ON uses typical OEM increments; OFF shows exact values with your chosen policy.</li>
            <li data-i18n="helpItemTheme"><b>Theme</b> — Button shows the <i>target</i> mode. "Light" switches to Light, "Dark" switches to Dark.</li>
            <li data-i18n="helpItemLang"><b>Language</b> — Toggle English ↔ Español. Preference is saved.</li>
            <li data-i18n="helpItemInstall"><b>Install</b> — Adds this tool as a PWA for offline, app-like use.</li>
          </ul>
        </div>

        <div class="help-section">
          <h3 data-i18n="helpNotesHeader">Notes</h3>
          <ul>
            <li data-i18n="helpNoteLayout">Mobile layout: width is phone-sized; content scrolls vertically.</li>
            <li data-i18n="helpNotePrefs">Preferences (theme/language) are saved for next sessions.</li>
            <li data-i18n="helpNoteOffline">Offline mode works after first load or installation.</li>
          </ul>
        </div>
      </div>
    </details>
  </section>
</div>
</div>

<!-- Disclaimer Modal -->
<div id="disclaimerModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3 style="color: var(--bad); margin-top: 0;">Important Legal Disclaimer</h3>
    <div class="disclaimer-text">
      <p><strong>Disclaimer:</strong> This application is provided <strong>for reference and educational purposes only</strong>. It is <strong>not an FAA-, EASA-, or OEM-approved source of maintenance data</strong>, and it <strong>must not be used as instructions for continued airworthiness, inspection, or repair</strong>.</p>
      
      <p>All torque values, conversions, and calculations must be verified against the applicable <strong>Aircraft Maintenance Manual (AMM), Structural Repair Manual (SRM), Component Maintenance Manual (CMM), or other manufacturer-approved documents</strong> before use.</p>
      
      <p>The developer makes <strong>no warranties, express or implied</strong>, and assumes <strong>no liability for errors, omissions, or misuse</strong> of this application.</p>
      
      <p>By using this application, you acknowledge that <strong>you are solely responsible for compliance with all regulatory and manufacturer requirements</strong>.</p>
      
      <p><strong>Notice:</strong> This calculator performs mathematical conversions only. Always verify values and use appropriate documentation for your specific application.</p>
    </div>
  </div>
</div>

<!-- About Modal -->
<div id="aboutModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('aboutModal')">&times;</span>
    <h3 style="color: var(--accent); margin-top: 0;">About TorqSpec Pro</h3>
    <div class="about-text">
      <p><strong>TorqSpec Calculator</strong> is a torque unit conversion tool that performs mathematical conversions between common measurement units. It provides quick calculations and range computations in a mobile-friendly interface.</p>
      
      <h4>🏢 Developed by CiphracoreSystems</h4>
      <p>Professional aviation maintenance software solutions.<br/>
      <a href="https://github.com/CiphracoreSystems/torq" target="_blank" style="color: var(--accent);">
        📂 View on GitHub
      </a> | 
      <a href="https://github.com/CiphracoreSystems" target="_blank" style="color: var(--accent);">
        🏢 Our Organization
      </a></p>
      
      <h4>💼 Partnership & Enterprise Solutions</h4>
      <p>Organizations and businesses: Contact us for custom calculators, licensing, and development services.</p>
      
      <h4>📩 Contact</h4>
      <p><strong>✉️ ciphracore@protonmail.com</strong><br/>
      💬 "Describe your maintenance software needs"</p>
      
      <p><strong>Response time:</strong> 24–48 hours<br/>
      <strong>Available for:</strong> Tool development, enterprise licensing, training integration, and tailored solutions.</p>
      
      <p style="margin-top: 20px; opacity: 0.7; font-size: 0.9em;">
        Version 1.4.1 | © 2024 CiphracoreSystems<br/>
        Licensed for professional use
      </p>
    </div>
  </div>